<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="D3 Icicle Chart Transition" /><meta name="author" content="vgihan" /><meta property="og:locale" content="ko" /><meta name="description" content="D3 라이브러리를 활용하여 Icicle Chart에 transition 추가하기" /><meta property="og:description" content="D3 라이브러리를 활용하여 Icicle Chart에 transition 추가하기" /><link rel="canonical" href="https://vgihan.github.io/posts/D3-icicle-chart-transition/" /><meta property="og:url" content="https://vgihan.github.io/posts/D3-icicle-chart-transition/" /><meta property="og:site_name" content="vgihan’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-28T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="D3 Icicle Chart Transition" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@vgihan" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"vgihan"},"dateModified":"2022-09-08T15:39:38+09:00","datePublished":"2022-07-28T00:00:00+09:00","description":"D3 라이브러리를 활용하여 Icicle Chart에 transition 추가하기","headline":"D3 Icicle Chart Transition","mainEntityOfPage":{"@type":"WebPage","@id":"https://vgihan.github.io/posts/D3-icicle-chart-transition/"},"url":"https://vgihan.github.io/posts/D3-icicle-chart-transition/"}</script><title>D3 Icicle Chart Transition | vgihan's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="vgihan's blog"><meta name="application-name" content="vgihan's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/49841765?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">vgihan's blog</a></div><div class="site-subtitle">잊지 않기 위해 기록합니다</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/vgihan" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jum654','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>D3 Icicle Chart Transition</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>D3 Icicle Chart Transition</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1658934000" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 28, 2022 </em> </span> <span> Updated <em class="" data-ts="1662619178" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Sep 8, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> Kim Gihan </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1385 words"> <em>7 min</em> read</span></div></div></div><div class="post-content"><p>icicle chart 다음 목표는 transition을 넣는 것이다. 클릭한 블럭만 transition을 넣는 것이 아니라, 다른 블럭도 함께 움직이는 transition이라 생각하기가 쉽지 않다.</p><p><strong>Node vs Selection</strong></p><p>transition을 부여하기 위해선, Node와 Selection을 구별할 줄 알아야한다. Node는 hierarchy 함수를 통해 데이터를 갖는 객체이고, Selection은 해당 데이터를 통해 실질적으로 눈에 보여지는 element 들이다. 그렇기 때문에, transition은 Node가 아니라 Selection에 부여할 수 있다.</p><p><img data-src="https://user-images.githubusercontent.com/49841765/189051611-3c81e3e4-53a6-4647-a888-e192984581f9.png" alt="Selection" data-proofer-ignore></p><p>Selection</p><p><img data-src="https://user-images.githubusercontent.com/49841765/189051831-bd633dc5-8178-4243-8c04-5a737dcc2f8e.png" alt="Node" data-proofer-ignore></p><p>Node</p><p><strong>Selection의 하위 Selection 참조</strong></p><p>Node는 결국 Tree 자료구조이기 때문에 하위 Node를 참조하는 것이 가능하다. 하지만, Selection은 element 이기 때문에 하위 데이터를 물고 있는 Selection을 참조하는 것이 불가능하다. 실제로 children 이라는 프로퍼티를 참조해도 데이터 상 하위 Selection이 아니라 실제 element 내부의 다른 태그를 반환받게 된다. (svg &gt; g &gt; rect)</p><p><strong>그러면 어떡하지?</strong></p><p>githru에서 보여지는 icicle chart transition을 주기 위해선, click event의 target과 해당 Selection의 하위 Selection 들에 transition을 부여해야한다. 하지만, 앞서 언급했듯 그것은 불가능하기 때문에, 차트를 구성하는 모든 Selection에 transition을 부여함으로써 적용할 수 있다.</p><p><strong>HierarchyRectangularNode</strong></p><p>HierarchyRectangularNode는 차트를 구성하는 element의 각 좌표 값을 제공한다. 하지만, HierarchyRectangularNode의 값이 수정된다고 해서 바로 결과가 View에 반영되진 않는다. HierarchyRectangularNode의 데이터를 수정하고, transition과 attr를 통해 View에 반영하는 작업을 거쳐야 비로소 View의 변화가 일어난다.</p><p><img data-src="https://user-images.githubusercontent.com/49841765/189051920-075c5997-3119-4081-8fa4-d851475cb6d5.png" alt="image" data-proofer-ignore></p><p><strong>가장 중요한 건 좌표 수정 !</strong></p><p>이번 transition을 적용하는 데 있어서 가장 중요한 건 결국 좌표 값 계산이다. zoom-in 시 결정되는 결과의 좌표값을 계산해서 transition만 적용시켜주면 되기 때문이다.</p><p><img data-src="https://user-images.githubusercontent.com/49841765/189051976-e1554ea0-efda-4d76-bf6c-61db42883e3e.png" alt="image" data-proofer-ignore></p><p><strong>좌표 수정 시 주의할 점</strong></p><p>아래 코드와 같이 좌표를 수정했더니, 문제가 발생했다. target은 event target이다. target이 수정되면, target 이후에 작업이 실행되는 Node들은 target의 수정된 값을 참조하는 것이다. 예상했던 결과값을 얻지 못했다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nx">cell</span><span class="p">.</span><span class="nx">each</span><span class="p">((</span><span class="nx">d</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">x0</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">x0</span> <span class="o">-</span> <span class="nx">target</span><span class="p">.</span><span class="nx">x0</span><span class="p">;</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">x1</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">x1</span> <span class="o">-</span> <span class="nx">target</span><span class="p">.</span><span class="nx">x0</span> <span class="o">+</span> <span class="nx">height</span><span class="p">;</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">y0</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">y0</span> <span class="o">-</span> <span class="nx">target</span><span class="p">.</span><span class="nx">y0</span><span class="p">;</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">y1</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>
</pre></table></code></div></div><p>아래와 같이 미리 target 값을 복사한 후 작업하니 제대로 동작했다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="p">{</span> <span class="nx">x0</span><span class="p">,</span> <span class="nx">x1</span><span class="p">,</span> <span class="nx">y0</span><span class="p">,</span> <span class="nx">y1</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">target</span><span class="p">;</span>
<span class="nx">cell</span><span class="p">.</span><span class="nx">each</span><span class="p">((</span><span class="nx">d</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">x0</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">x0</span> <span class="o">-</span> <span class="nx">x0</span><span class="p">;</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">x1</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">x1</span> <span class="o">-</span> <span class="nx">x0</span> <span class="o">+</span> <span class="nx">height</span><span class="p">;</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">y0</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">y0</span> <span class="o">-</span> <span class="nx">y0</span><span class="p">;</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">y1</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>
</pre></table></code></div></div><p><strong>width transition</strong></p><p>위에서 언급했듯, width transition에 관여하는 좌표 값은 y0, y1 이다. 적절한 계산을 통해 y0, y1을 정해주어야 한다. 기존에 y0, y1을 관리하던 방식은 왼쪽부터 height수에 전체 width를 곱한 수를 사용하고 있었다. (ex 0, 500, 1000, 1500 …) 이후에 실제 width를 정해줄 때 해당 값에 실제 비율을 적용하여 화면에 보여주는 방식이었다. 그러므로 click target의 y0와 비교하여 얼마나 차이가 있는지만 계산해주면 된다. 아래는 각 Node의 y0 값을 target의 y0와의 차로 대입하는 식이다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">d</span><span class="p">.</span><span class="nx">y0</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">y0</span> <span class="o">-</span> <span class="nx">y0</span><span class="p">;</span>
</pre></table></code></div></div><p><strong>height transition</strong></p><p>height 에 관여하는 좌표는 x0, x1 이다. 적절한 x0, x1을 계산하여 transform y, height를 구해보자. 아래 icicle chart 에서 <code class="language-plaintext highlighter-rouge">src/2</code> rect를 클릭한다고 가정하자. 그러면, <code class="language-plaintext highlighter-rouge">src/2</code> <code class="language-plaintext highlighter-rouge">transition/transition.js</code> <code class="language-plaintext highlighter-rouge">util/options.js</code> 3개의 rect가 svg를 꽉 채울 것이다.</p><p><img data-src="https://user-images.githubusercontent.com/49841765/189052130-5b9c9606-cc97-4361-87b6-caa79b7cbf03.png" alt="image" data-proofer-ignore></p><p>편의를 위해 <code class="language-plaintext highlighter-rouge">src/2</code> 를 1번 블록, <code class="language-plaintext highlighter-rouge">transition/transition.js</code> 를 2번 블록, <code class="language-plaintext highlighter-rouge">util/options.js</code> 를 3번 블록이라하자.</p><p>1번 블록의 높이는 transition 이후 svg의 height 만큼 증가한다. 이 비율을 기억해두자 (<code class="language-plaintext highlighter-rouge">transition 이전 1번 블록의 높이</code> : <code class="language-plaintext highlighter-rouge">svg 높이</code>)</p><p><code class="language-plaintext highlighter-rouge">3번 블록의 x0 - 1번 블록의 x0</code> 값이 transition 이후에 변경되는 값과의 비율은 앞의 비율과 같다.</p><p>정리하자면,</p><p><code class="language-plaintext highlighter-rouge">transition 이전 1번 블록의 높이</code> : <code class="language-plaintext highlighter-rouge">svg 높이</code> = <code class="language-plaintext highlighter-rouge">block3's x0 - block1's x0</code> : <code class="language-plaintext highlighter-rouge">transition 이후 3번 블록의 x0 =&gt; d.x0</code> 이고,</p><p><code class="language-plaintext highlighter-rouge">target.x1 - target.x0</code> : <code class="language-plaintext highlighter-rouge">height</code> = <code class="language-plaintext highlighter-rouge">d.x0(이전) - target.x0</code> : <code class="language-plaintext highlighter-rouge">d.x0(이후)</code> ,</p><p><code class="language-plaintext highlighter-rouge">d.x0(이후)</code> = (<code class="language-plaintext highlighter-rouge">d.x0(이전) - target.x0</code>) * <code class="language-plaintext highlighter-rouge">height</code> / <code class="language-plaintext highlighter-rouge">target.x1 - target.x0</code> 이라는 결과가 도출된다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">d</span><span class="p">.</span><span class="nx">x0</span> <span class="o">=</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">x0</span> <span class="o">-</span> <span class="nx">x0</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">height</span> <span class="o">/</span> <span class="p">(</span><span class="nx">x1</span> <span class="o">-</span> <span class="nx">x0</span><span class="p">));</span>
</pre></table></code></div></div><p>다음은 <code class="language-plaintext highlighter-rouge">x1</code> 을 구할 차례다. <code class="language-plaintext highlighter-rouge">x0</code> 을 구할 때와 동일하게 1번 블록의 transition 이전과 이후 비율과 비교하여 구할 수 있다.</p><p><code class="language-plaintext highlighter-rouge">transition 이전 1번 블록의 높이</code> : <code class="language-plaintext highlighter-rouge">svg 높이</code> = <code class="language-plaintext highlighter-rouge">block2's x1 - block1's x0</code> : <code class="language-plaintext highlighter-rouge">transition 이후 2번 블록의 x1 =&gt; d.x1</code> ,</p><p><code class="language-plaintext highlighter-rouge">target.x1 - target.x0</code> : <code class="language-plaintext highlighter-rouge">height</code> = <code class="language-plaintext highlighter-rouge">d.x1(이전) - target.x0</code> : <code class="language-plaintext highlighter-rouge">d.x1(이후)</code> ,</p><p><code class="language-plaintext highlighter-rouge">d.x1(이후)</code> = (<code class="language-plaintext highlighter-rouge">d.x1(이전) - target.x0</code>) * <code class="language-plaintext highlighter-rouge">height</code> / <code class="language-plaintext highlighter-rouge">target.x1 - target.x0</code></p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">d</span><span class="p">.</span><span class="nx">x1</span> <span class="o">=</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">x1</span> <span class="o">-</span> <span class="nx">x0</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">height</span> <span class="o">/</span> <span class="p">(</span><span class="nx">x1</span> <span class="o">-</span> <span class="nx">x0</span><span class="p">));</span>
</pre></table></code></div></div><p><strong>반영하기</strong></p><p>위치 정보를 나타내는 translate는 아래와 같다. <code class="language-plaintext highlighter-rouge">target.height+1</code>에 따라서 svg의 width가 몇 개로 나눠지는 지 정해지기 때문에, svg의 width 단위로 정해두었던 y0의 값을 구해줄 수 있다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/d3/'>d3</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/d3/" class="post-tag no-text-decoration" >d3</a> <a href="/tags/react/" class="post-tag no-text-decoration" >react</a> <a href="/tags/transition/" class="post-tag no-text-decoration" >transition</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=D3+Icicle+Chart+Transition+-+vgihan%27s+blog&url=https%3A%2F%2Fvgihan.github.io%2Fposts%2FD3-icicle-chart-transition%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=D3+Icicle+Chart+Transition+-+vgihan%27s+blog&u=https%3A%2F%2Fvgihan.github.io%2Fposts%2FD3-icicle-chart-transition%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fvgihan.github.io%2Fposts%2FD3-icicle-chart-transition%2F&text=D3+Icicle+Chart+Transition+-+vgihan%27s+blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/D3-icicle-chart-transition/">D3 Icicle Chart Transition</a><li><a href="/posts/VSCode-extension/">VSCode Extension 만들기</a><li><a href="/posts/HTTP/">HTTP</a><li><a href="/posts/HTTPS/">HTTPS</a><li><a href="/posts/Execution-Context/">Execution Context</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/extension/">Extension</a> <a class="post-tag" href="/tags/vscode/">VSCode</a> <a class="post-tag" href="/tags/async/">async</a> <a class="post-tag" href="/tags/bucket/">bucket</a> <a class="post-tag" href="/tags/container/">container</a></div></div></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/React-Native-SplashScreen/"><div class="card-body"> <em class="small" data-ts="1658674800" data-df="ll" > Jul 25, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React Native Splash Screen</h3><div class="text-muted small"><p> 앱을 시작하기 전에 화면에 등장하는 스플래시 이미지를 React Native 환경에서 적용해보자. react-native-splash-screen 라이브러리를 활용하여 구현할 수 있다. iOS에서 실행을 확인할 수 있는 방법이 없어, 안드로이드 환경에서 구현하는 방법만 살펴본다. Installing react-native-splash-screen을...</p></div></div></a></div><div class="card"> <a href="/posts/TCPvsUDP/"><div class="card-body"> <em class="small" data-ts="1657206000" data-df="ll" > Jul 8, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>TCP vs UDP</h3><div class="text-muted small"><p> TCP란 4계층 transport layer에서 작동하는 통신 프로토콜로써, 연결 지향적 프로토콜이다. 연결 지향적 프로토콜이라는 말은 미리 연결을 맺어 두고 해당 연결을 통해 신뢰성 있는 통신을 하는 것이다. 특징 신뢰성 : 손상되거나 유실 혹은 중복된 패킷에 대한 처리가 이루어져 수신자로 하여금 송신자가 보낸 패킷을 제대로 받을 수 있도록 보...</p></div></div></a></div><div class="card"> <a href="/posts/Promise-all/"><div class="card-body"> <em class="small" data-ts="1657033200" data-df="ll" > Jul 6, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Promise.all</h3><div class="text-muted small"><p> 자바스크립트에서 비동기 작업을 처리하는 방법으로는 분류하자면 세 가지가 존재한다. 첫 번째는 콜백함수를 호출하는 것이고, 두 번째는 Promise.then, 마지막은 문법적으로 처리할 수 있는 async await 키워드를 이용한 방법이다. 사실, async await 키워드를 가지고 비동기 작업을 처리하면 매우 간단하다. Promise를 반환하는 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/React-Native-SplashScreen/" class="btn btn-outline-primary" prompt="Older"><p>React Native Splash Screen</p></a><div class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></div></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/vgihan">Kim Gihan</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/extension/">Extension</a> <a class="post-tag" href="/tags/vscode/">VSCode</a> <a class="post-tag" href="/tags/async/">async</a> <a class="post-tag" href="/tags/bucket/">bucket</a> <a class="post-tag" href="/tags/container/">container</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
